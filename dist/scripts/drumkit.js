"use strict";!function(){var e=this,t=t||{},n={pads:document.querySelectorAll(".pad")},d={};t.triggerKeyboardEvent=function(e,t,n){var d=document.createEventObject?document.createEventObject():document.createEvent("Events");d.initEvent&&d.initEvent(n,!0,!0),d.keyCode=t,d.which=t,e.dispatchEvent?e.dispatchEvent(d):e.fireEvent(n,d)},t.playSound=function(e){return e=e||window.event,d={pressed:function(){n.pad.classList.add("pad--pressed")},active:function(){n.pad.classList.add("pad--active")},inactive:function(){n.pad.classList.remove("pad--active")},onUp:function(){[].forEach.call(n.pads,function(e){e.classList.remove("pad--pressed")})}},n={audio:document.querySelector('audio[data-key="'+e.keyCode+'"]'),pads:document.querySelectorAll(".pad"),pad:document.querySelector('.pad[data-key="'+e.keyCode+'"]')},n.audio?(n.pads.forEach(function(e){return e.addEventListener("animationend",t.removeAnimation)}),n.audio.currentTime=0,n.audio.play(),d.pressed(),d.inactive(),void n.pad.offsetWidth,void d.active()):void console.log("error")},t.removePressed=function(){n.audio&&d.onUp()},t.removeAnimation=function(){e.classList.remove("pad--active")},t.init=function(){window.addEventListener("keydown",t.playSound),window.addEventListener("keyup",t.removePressed.bind(t)),[].forEach.call(n.pads,function(n){n.addEventListener("click",function(){t.keyCode=e.dataset.key,t.triggerKeyboardEvent(e,t.keyCode,"keydown"),setTimeout(function(){t.triggerKeyboardEvent(e,t.keyCode,"keyup")},200)})})},t.init()}();